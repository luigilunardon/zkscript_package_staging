# Examples

This folder contains a script `script.py` that given a proof, a verifying key and a set of public inputs constructs either:
- a locking script `lock` that locks a UTXO with the given verifying key, and an unlocking script `unlock` that unlocks the UTXO using the proof and the public inputs
- a couple of transactions: `locked_tx` and `spending_tx`, where `locked_tx` is locked with the ZKP verifier and `spending_tx` spends `locked_tx`

The data generated by `script.py` gets saved into the `outputs` folder.

The script `script.py` takes two required arguments and an optional argument:
- (required) `dir`, the directory from which to get the proof, verifying key and set of public inputs: valid options are `square_root` and  `sha256`
- (required) `curve`, the curve over which to build the ZKP verifer: valid options are `bls12_381` and `mnt4_753`
- (optional) `config`, the configuration file used to build the transactions

The configuration file is a `toml` file with the following fields (see [tx_configuration](./tx_configuration.toml)):
- `tx`: the transaction id of the transaction used to fund the on-chain ZKP verifier
- `index`: the index of the output of `tx` used to fund the on-chain ZKP verifier
- `private_key`: the private key, in WIF format, used to unlock the UTXO specified by `(tx, index)` (the assumption is that the UTXO is locked with P2PKH)
- `network`: where to look for the UTXO, valid parameters are `mainnet` and `testnet`
- `broadcast`: whether to broadcast the transactions generated
- `fee_rate`: the fee rate (Sats/KB)

**Note:** The option `broadcast` is currently supported only for the curve `bls12_381` as the script size of the ZKP verifier instantiated over `mnt4_753` is above the policy rule of `500KB`.

For instructions on how to use the various examples, please see the README contained in each example folder.